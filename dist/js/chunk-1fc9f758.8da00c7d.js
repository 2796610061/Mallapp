(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fc9f758"],{"159b":function(e,t,a){var s=a("da84"),o=a("fdbc"),i=a("17c2"),n=a("9112");for(var c in o){var l=s[c],r=l&&l.prototype;if(r&&r.forEach!==i)try{n(r,"forEach",i)}catch(d){r.forEach=i}}},"17c2":function(e,t,a){"use strict";var s=a("b727").forEach,o=a("a640"),i=o("forEach");e.exports=i?[].forEach:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}},3376:function(e,t,a){"use strict";a("6413")},4472:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"presonal"},[a("van-nav-bar",{attrs:{title:"编辑地址","left-text":"返回","left-arrow":""},on:{"click-left":e.onClickLeft}}),a("div",{staticClass:"content"},[a("div",{staticClass:"text-box"},[a("ul",[a("li",[a("van-field",{attrs:{label:"姓名",placeholder:"收货人姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("li",[a("van-field",{attrs:{type:"tel",label:"电话",placeholder:"收货人手机号"},model:{value:e.tel,callback:function(t){e.tel=t},expression:"tel"}})],1),a("li",[a("van-field",{attrs:{label:"地区","right-icon":"arrow",placeholder:"请选择省/市/区"},on:{"click-right-icon":function(t){e.show=!0}},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}})],1),a("li",[a("van-field",{attrs:{label:"详细信息",placeholder:"街道门牌、楼层房间号等信息"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),a("li",[a("van-field",{attrs:{type:"digit",label:"邮政编码",placeholder:"邮政编码"},model:{value:e.postalCode,callback:function(t){e.postalCode=t},expression:"postalCode"}})],1)])]),a("div",{staticClass:"default"},[a("van-cell",{attrs:{center:"",title:"设为默认收货地址"},scopedSlots:e._u([{key:"right-icon",fn:function(){return[a("van-switch",{attrs:{size:"24"},on:{click:e.toggle},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})]},proxy:!0}])})],1),a("div",{staticClass:"button"},[a("van-button",{attrs:{type:"primary",round:"",size:"large",color:"#0C34BA"},on:{click:e.preservation}},[e._v(" 保存修改 ")])],1),a("div",{staticClass:"delect"},[a("van-button",{attrs:{type:"primary",round:"",size:"large",color:"#fff"},on:{click:e.delectAddress}},[e._v(" 删除地址 ")])],1),a("van-popup",{style:{height:"40%"},attrs:{round:"",position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("div",{staticClass:"select"},[a("van-area",{attrs:{"area-list":e.areaList,"columns-placeholder":["请选择省","请选择市","请选择区/县城"]},on:{confirm:e.confirm,cancel:e.cancel}})],1)])],1)],1)},o=[],i=(a("b0c0"),a("a15b"),a("a9e3"),a("ac1f"),a("1276"),a("159b"),a("9163")),n={data:function(){return{areaList:i["areaList"],name:"",tel:"",region:"",address:"",postalCode:"",show:!1,areaCode:0,checked:!1,default:0,aid:"",data:[],newdefault:0}},methods:{onClickLeft:function(){this.$router.go(-1)},confirm:function(e){if(e[0].name)if(e[1].name)if(e[2].name){this.areaCode=e[0].code;var t=[];t.push(e[0].name),t.push(e[1].name),t.push(e[2].name),this.region=t.join("/"),this.show=!1}else this.$toast("请选择区/县城");else this.$toast("请选择市");else this.$toast("请选择省")},cancel:function(){this.show=!1},toggle:function(){this.checked=!this.checked,console.log(this.checked),this.checked,this.default=Number(this.checked)},getData:function(e,t,a){return"get"==t?this.axios.get(e,{params:a}):"post"==t?this.axios.post(e,a):this.axios({url:e,method:t})},preservation:function(){var e=this,t=this.region.split("/");this.getData("/editAddress","post",{aid:this.aid,name:this.name,tel:this.tel,province:t[0],city:t[1],county:t[2],addressDetail:this.address,areaCode:this.areaCode,postalCode:this.postalCode,isDefault:this.default}).then((function(t){3e4==t.code&&e.$toast(t.msg)})).catch((function(e){console.log(e)}))},delectAddress:function(){var e=this;this.getData("/deleteAddress","post",{aid:this.aid}).then((function(t){1e4==t.code&&(e.$toast(t.msg),e.name="",e.tel="",e.address="",e.postalCode="",e.areaCode="",e.checked=!1,e.default=0,e.region="",setTimeout((function(){e.$router.go(-1)}),1500))})).catch((function(e){console.log(e)}))}},created:function(){var e=this,t=this.$route.query.aid;this.aid=t;var a=this.$route.query.default;this.newdefault=a,this.getData("/findAddressByAid","get",{aid:t}).then((function(t){if(4e4==t.code){var a=[];t.result.forEach((function(t){a.push(t.province),a.push(t.city),a.push(t.county),e.name=t.name,e.tel=t.tel,e.address=t.addressDetail,e.postalCode=t.postalCode,e.areaCode=t.areaCode,e.checked=Boolean(t.isDefault),e.default=t.isDefault})),e.region=a.join("/")}})).catch((function(e){console.log(e)}))}},c=n,l=(a("3376"),a("2877")),r=Object(l["a"])(c,s,o,!1,null,"f0976af4",null);t["default"]=r.exports},6413:function(e,t,a){},b727:function(e,t,a){var s=a("0366"),o=a("44ad"),i=a("7b0b"),n=a("50c4"),c=a("65f0"),l=[].push,r=function(e){var t=1==e,a=2==e,r=3==e,d=4==e,u=6==e,h=7==e,f=5==e||u;return function(p,v,m,g){for(var b,k,C=i(p),w=o(C),y=s(v,m,3),x=n(w.length),$=0,D=g||c,E=t?D(p,x):a||h?D(p,0):void 0;x>$;$++)if((f||$ in w)&&(b=w[$],k=y(b,$,C),e))if(t)E[$]=k;else if(k)switch(e){case 3:return!0;case 5:return b;case 6:return $;case 2:l.call(E,b)}else switch(e){case 4:return!1;case 7:l.call(E,b)}return u?-1:r||d?d:E}};e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6),filterOut:r(7)}}}]);
//# sourceMappingURL=chunk-1fc9f758.8da00c7d.js.map